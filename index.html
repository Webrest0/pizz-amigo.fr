<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PIZZâ€™AMIGO â€” Montmerle-sur-SaÃ´ne</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="topbar">
    <div class="brand">PIZZâ€™AMIGO</div>
    <div class="top-actions">
      <a class="btn dark" href="tel:0680480456">06 80 48 04 56</a>
      <button class="btn primary" id="btn-checkout" type="button">Commander en ligne</button>
    </div>
  </header>

  <main>
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-inner">
        <div class="hero-content">
          <p class="small">Food-truck italien â€” Montmerle-sur-SaÃ´ne</p>
          <h1 id="hero-title">Le goÃ»t authentique de lâ€™Italie, tout prÃ¨s de chez vous.</h1>
          <p>Pizzas artisanales cuites au feu de bois et boissons fraÃ®ches. Commandez en ligne et rÃ©cupÃ©rez au camion.</p>
          <div class="hero-cta">
            <button class="btn primary" id="btn-hero-order" type="button">Je passe commande</button>
            <a class="btn orange" href="#menu">Voir la carte</a>
          </div>
        </div>
      </div>
    </section>

    <section class="section badge" aria-live="polite">
      <div class="inner">
        <span class="dot" aria-hidden="true"></span>
        <span>ğŸ”´ FermÃ© pour le moment â€” retrouvez-nous ce week-end !</span>
      </div>
    </section>

    <section class="section" id="menu">
      <h2>Notre carte</h2>
      <p class="small">Boissons : rÃ©glez en ligne, <strong>saveur choisie sur place</strong>. SupplÃ©ment (viande / poisson / Å“uf / fromage) : +1 â‚¬ par ajout.</p>
      <ul id="menu-list" aria-live="polite"></ul>
    </section>

    <section class="section" id="infos">
      <div class="card">
        <h2>Infos pratiques</h2>
        <p><strong>Nous trouver :</strong></p>
        <ul>
          <li><strong>Vendredi soir</strong> â€” Saint-Georges-de-Reneins (Parking Caisse dâ€™Ã©pargne) Â· 18:00â€“21:00 â€” <a href="https://maps.app.goo.gl/kjK3x2f7x7m2b71q7" target="_blank" rel="noopener">ItinÃ©raire</a></li>
          <li><strong>Samedi soir</strong> â€” Amareins (carrefour des feux) Â· 18:00â€“21:00 â€” <a href="https://maps.app.goo.gl/4o8y9kqHc9FQxB6b7" target="_blank" rel="noopener">ItinÃ©raire</a></li>
          <li><strong>Dimanche soir</strong> â€” Amareins (carrefour des feux) Â· 18:00â€“21:00 â€” <a href="https://maps.app.goo.gl/4o8y9kqHc9FQxB6b7" target="_blank" rel="noopener">ItinÃ©raire</a></li>
        </ul>
        <p><strong>TÃ©lÃ©phone :</strong> <a href="tel:0680480456">06 80 48 04 56</a> Â· <a href="https://facebook.com" target="_blank" rel="noopener">Facebook</a></p>
      </div>
    </section>
  </main>

  <footer>
    Â© PIZZâ€™AMIGO â€” Montmerle-sur-SaÃ´ne Â· Food-truck italien
  </footer>

  <div id="cart-bar" class="hidden" role="region" aria-live="polite">
    <span>Panier Â· <span class="cart-total">0,00</span> â‚¬</span>
    <button class="btn primary" id="btn-view" type="button">Voir ma commande</button>
  </div>

  <dialog id="checkout" class="ck" aria-labelledby="checkout-title">
    <button class="btn dark" id="close-modal" type="button">Fermer</button>
    <h3 id="checkout-title">Finaliser la commande</h3>
    <p class="small">Commande nÂ° <span id="ck-order-id">(gÃ©nÃ©rÃ©e automatiquement)</span></p>
    <div class="ck-items">Votre panier est vide.</div>
    <form class="form" method="dialog">
      <label for="ck-name">Nom et prÃ©nom *</label>
      <input id="ck-name" name="name" type="text" autocomplete="name" required>

      <label for="ck-phone">TÃ©lÃ©phone *</label>
      <input id="ck-phone" name="phone" type="tel" inputmode="tel" autocomplete="tel" required>

      <label for="ck-slot">CrÃ©neau souhaitÃ© *</label>
      <div class="chips" role="radiogroup" aria-label="Choisir un crÃ©neau">
        <div class="chip" data-slot="18:00" role="radio" tabindex="0" aria-checked="false">18:00</div>
        <div class="chip" data-slot="18:30" role="radio" tabindex="-1" aria-checked="false">18:30</div>
        <div class="chip" data-slot="19:00" role="radio" tabindex="-1" aria-checked="false">19:00</div>
        <div class="chip" data-slot="19:30" role="radio" tabindex="-1" aria-checked="false">19:30</div>
        <div class="chip" data-slot="20:00" role="radio" tabindex="-1" aria-checked="false">20:00</div>
        <div class="chip" data-slot="20:30" role="radio" tabindex="-1" aria-checked="false">20:30</div>
      </div>
      <input id="ck-slot" name="slot" type="hidden" required>

      <label for="ck-note">Commentaire</label>
      <textarea id="ck-note" name="note" rows="3" placeholder="Allergies, cuisson, etc."></textarea>

      <fieldset>
        <legend>Paiement</legend>
        <label><input type="radio" name="paymode" value="en_ligne" checked> Paiement en ligne</label>
        <label><input type="radio" name="paymode" value="sur_place"> Paiement sur place</label>
      </fieldset>

      <button class="btn ck-primary" id="btn-send" type="button">Envoyer ma commande</button>
    </form>
  </dialog>

  <script type="module" src="app.js"></script>
  <script>
    const heroOrderBtn = document.getElementById('btn-hero-order');
    const dialog = document.getElementById('checkout');
    const chips = Array.from(document.querySelectorAll('.chip'));
    const slotInput = document.getElementById('ck-slot');

    function selectChip(chip){
      chips.forEach(el => {
        const isActive = el === chip;
        el.classList.toggle('active', isActive);
        el.setAttribute('aria-checked', String(isActive));
        el.setAttribute('tabindex', isActive ? '0' : '-1');
      });
      slotInput.value = chip?.dataset.slot || '';
      if(chip){ chip.focus(); }
    }

    chips.forEach((chip, index) => {
      chip.addEventListener('click', () => selectChip(chip));
      chip.addEventListener('keydown', (event) => {
        if(event.key === ' ' || event.key === 'Enter'){
          event.preventDefault();
          selectChip(chip);
        }
        if(event.key === 'ArrowRight' || event.key === 'ArrowDown'){
          event.preventDefault();
          const next = chips[index + 1] || chips[0];
          next.focus();
        }
        if(event.key === 'ArrowLeft' || event.key === 'ArrowUp'){
          event.preventDefault();
          const prev = chips[index - 1] || chips[chips.length - 1];
          prev.focus();
        }
      });
    });

    heroOrderBtn?.addEventListener('click', () => {
      document.getElementById('btn-checkout')?.click();
    });

    dialog?.addEventListener('cancel', (event) => {
      event.preventDefault();
      dialog.close();
    });
  </script>
</body>
</html>
